(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0b6cd7"],{"1f5a":function(e,t,a){"use strict";a.r(t);var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}]},[a("el-row",[a("el-card",{attrs:{shadow:"never"}},[a("el-tabs",{staticStyle:{"min-height":"400px"},attrs:{"tab-position":"left"}},[a("el-tab-pane",{attrs:{label:"基本信息"}},[a("el-card",{attrs:{shadow:"never"}},[e.item?a("el-form",{attrs:{"label-position":"right"}},[a("el-form-item",[a("el-input",{attrs:{placeholder:"主键",disabled:""},model:{value:e.item.id,callback:function(t){e.$set(e.item,"id",t)},expression:"item.id"}},[a("template",{slot:"prepend"},[e._v("主键")])],2)],1),a("el-form-item",[a("el-input",{attrs:{placeholder:"账号",disabled:""},model:{value:e.item.account,callback:function(t){e.$set(e.item,"account",t)},expression:"item.account"}},[a("template",{slot:"prepend"},[e._v("账号")])],2)],1),a("el-form-item",[a("el-input",{attrs:{placeholder:"昵称",clearable:""},model:{value:e.item.nickName,callback:function(t){e.$set(e.item,"nickName",t)},expression:"item.nickName"}},[a("template",{slot:"prepend"},[e._v("昵称")])],2)],1),a("el-form-item",[a("el-input",{attrs:{placeholder:"签名",clearable:""},model:{value:e.item.bio,callback:function(t){e.$set(e.item,"bio",t)},expression:"item.bio"}},[a("template",{slot:"prepend"},[e._v("签名")])],2)],1),a("el-divider",{attrs:{"content-position":"left"}},[e._v("链接")]),a("el-form-item",[a("el-input",{attrs:{placeholder:"Github",clearable:""}},[a("template",{slot:"prepend"},[a("span",{staticClass:"fa fa-github"})])],2)],1),a("el-form-item",[a("el-input",{attrs:{placeholder:"QQ",clearable:""}},[a("template",{slot:"prepend"},[a("span",{staticClass:"fa fa-qq"})])],2)],1),a("el-form-item",[a("el-input",{attrs:{placeholder:"Wechat",clearable:""}},[a("template",{slot:"prepend"},[a("span",{staticClass:"fa fa-weixin"})])],2)],1),a("el-form-item",[a("el-input",{attrs:{placeholder:"Codepen",clearable:""}},[a("template",{slot:"prepend"},[a("span",{staticClass:"fa fa-codepen"})])],2)],1),a("el-form-item",[a("el-input",{attrs:{placeholder:"邮箱",clearable:""}},[a("template",{slot:"prepend"},[a("span",{staticClass:"fa fa-envelope-o"})])],2)],1),a("el-form-item",[a("el-input",{attrs:{placeholder:"手机",clearable:""}},[a("template",{slot:"prepend"},[a("span",{staticClass:"fa fa-phone"})])],2)],1),a("el-form-item",[a("el-input",{attrs:{placeholder:"打赏码",clearable:""}},[a("template",{slot:"prepend"},[a("span",{staticClass:"fa fa-qrcode"})])],2)],1),a("el-form-item",[a("el-button",{attrs:{size:"mini",plain:""},on:{click:e.save}},[e._v("保存")])],1)],1):e._e()],1)],1),a("el-tab-pane",{attrs:{label:"头像信息"}},[a("el-card",{attrs:{shadow:"never"}},[e.item?a("div",[a("el-avatar",{staticClass:"u-margin-right",attrs:{shape:"square",size:100,fit:"cover",src:e.item.avatar}}),a("el-avatar",{staticClass:"u-margin-right",attrs:{shape:"square",size:60,fit:"cover",src:e.item.avatar}}),a("el-avatar",{staticClass:"u-margin-right",attrs:{shape:"square",size:40,fit:"cover",src:e.item.avatar}}),a("el-avatar",{staticClass:"u-margin-right",attrs:{shape:"circle",size:100,fit:"cover",src:e.item.avatar}}),a("el-avatar",{staticClass:"u-margin-right",attrs:{shape:"circle",size:60,fit:"cover",src:e.item.avatar}}),a("el-avatar",{staticClass:"u-margin-right",attrs:{shape:"circle",size:40,fit:"cover",src:e.item.avatar}}),a("br"),a("br")],1):e._e(),a("el-button",{attrs:{size:"mini",type:"primary",plain:""},on:{click:function(t){e.dialogAvatarVisible=!0}}},[e._v("修改")]),a("el-button",{attrs:{size:"mini",plain:""},on:{click:e.save}},[e._v("保存")])],1)],1),a("el-tab-pane",{attrs:{label:"安全信息"}},[a("el-card",{attrs:{shadow:"never"}},[e.item?a("el-form",{attrs:{"label-position":"right"}},[a("el-form-item",[a("el-input",{attrs:{type:"password",placeholder:"原始密码",clearable:"","show-password":""},model:{value:e.req.oldPwd,callback:function(t){e.$set(e.req,"oldPwd",t)},expression:"req.oldPwd"}},[a("template",{slot:"prepend"},[e._v("原始密码")])],2)],1),a("el-form-item",[a("el-input",{attrs:{type:"password",placeholder:"新的密码",clearable:"","show-password":""},model:{value:e.req.newPwd,callback:function(t){e.$set(e.req,"newPwd",t)},expression:"req.newPwd"}},[a("template",{slot:"prepend"},[e._v("新的密码")])],2)],1),a("el-form-item",[a("el-input",{attrs:{type:"password",placeholder:"确认密码",clearable:"","show-password":""},model:{value:e.req.rePwd,callback:function(t){e.$set(e.req,"rePwd",t)},expression:"req.rePwd"}},[a("template",{slot:"prepend"},[e._v("确认密码")])],2)],1),a("el-form-item",[a("el-input",{attrs:{type:"password",placeholder:"加密盐值(选填)",clearable:"","show-password":""},model:{value:e.req.salt,callback:function(t){e.$set(e.req,"salt",t)},expression:"req.salt"}},[a("template",{slot:"prepend"},[e._v("加密盐值")])],2)],1),a("el-form-item",[a("el-button",{attrs:{size:"mini",plain:""},on:{click:e.upd}},[e._v("修改")])],1)],1):e._e()],1)],1)],1)],1)],1),a("el-dialog",{attrs:{title:"修改头像",visible:e.dialogAvatarVisible},on:{"update:visible":function(t){e.dialogAvatarVisible=t}}},[a("Upload",{on:{success:e.handlerUpload}})],1)],1)},i=[],l=a("c7f0"),r=a("2f62"),n={name:"index",components:{Upload:l["a"]},data(){return{loading:!1,dialogAvatarVisible:!1,item:null,req:{id:0,oldPwd:"",newPwd:"",rePwd:"",salt:""}}},methods:{init(){this.search()},async search(){this.loading=!0;const e=await this.$request.fetchProfile();if(e.code)return this.item=null,this.$message.warning(e.message),void(this.loading=!1);this.item=e.data,this.req.id=this.item.id,this.loading=!1},async save(){if(!this.item)return;const e=await this.$request.fetchUpdProfile(this.item);e.code?this.$message.warning(e.message):this.$message.success(e.message)},async upd(){if(!this.req.id)return;if(this.isEmpty(this.req.oldPwd,"原始密码不能为空！"))return;if(this.isEmpty(this.req.newPwd,"新的密码不能为空！"))return;if(this.isEmpty(this.req.rePwd,"确认密码不能为空！"))return;if(this.req.newPwd!==this.req.rePwd)return void this.$message.warning("两次密码不一样！");const e=await this.$request.fetchUpdSecurity(this.req);e.code?this.$message.warning(e.message):this.$message.success(e.message)},handlerUpload(e){e&&(this.item.avatar=e.url)}},computed:{...Object(r["e"])(["dict"])}},o=n,c=a("2877"),p=Object(c["a"])(o,s,i,!1,null,null,null);t["default"]=p.exports}}]);
//# sourceMappingURL=chunk-2d0b6cd7.b901c6ac.js.map